# yaml-language-server: $schema=https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json
version: 2

#
# Colors: https://htmlcolorcodes.com/color-chart/material-design-color-chart/
#

palette:
  background: "#4A148C"
  text: "white"
  background_alt: "#7B1FA2"
  root: "#D50000"

  prompt: "white"
  kubernetes: "#2962FF"

transient_prompt:
  foreground: "p:prompt"
  foreground_templates:
    - "{{ if .Root }}p:root{{ end }}"
  template: " "

blocks:
  # Left prompt first line
  - type: prompt
    alignment: left
    segments:
      - type: os
        style: diamond
        leading_diamond: ""
        trailing_diamond: " "
        foreground: "p:text"
        background: "p:background"
        template: "{{ if .WSL }}WSL at {{ end }}{{.Icon}}"

      - type: session
        style: diamond
        leading_diamond: ""
        trailing_diamond: " "
        foreground: "p:text"
        background: "p:background"
        background_templates:
          - "{{ if .Root }}p:root{{ end }}"
        properties:
          display_host: true
        template: "{{ if .SSHSession }}(SSH) {{ end }}{{ .UserName }} on {{ lower .HostName }}"

      - type: path
        style: diamond
        leading_diamond: ""
        trailing_diamond: ""
        foreground: "p:text"
        background: "p:background"
        properties:
          style: agnoster_short
        template: "{{ path .Path .Location }}"

  # Right prompt first line
  - type: prompt
    alignment: right
    filler: "  "
    segments:
      - type: kubectl
        style: diamond
        leading_diamond: ""
        trailing_diamond: " "
        foreground: "p:text"
        background: "p:kubernetes"
        properties:
          parse_kubeconfig: true
        template: "{{if .Context}}ﴱ {{.Context}}{{end}}{{if .Cluster}} / {{.Cluster}}{{end}}{{if .Namespace}} / {{.Namespace}}{{end}}"

      - type: battery
        style: diamond
        leading_diamond: ""
        trailing_diamond: " "
        foreground: "p:text"
        background: "p:background"
        properties:
          display_error: false
          charging_icon: 
          discharging_icon: 
          charged_icon: 
        template: "{{ .Icon }}{{ .Percentage }}"

  # Left prompt third line
  - type: prompt
    alignment: left
    newline: true
    segments:
      - type: text
        style: plain
        foreground: "p:prompt"
        foreground_templates:
          - "{{ if .Root }}p:root{{ end }}"
        template: " "
